<html>
	<head>
		<link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="pure-button/pure-min.css">
		<link rel="stylesheet" href="compiled/flipclock.css">
		<link rel="stylesheet" href="mystyle.css">


		<script src="compiled/jquery.min.js"></script>
		<script src="compiled/flipclock.js"></script>
	</head>
	<body onload="deploy()">

<!--**************************PS One************************-->


<div class="psone-clock-container">
	<h3>PlayStation One</h3>
				<div class="psone-clock"></div>
				<form class="pure-form">

						<input type="button" class="button-small button-secondary pure-button" value="30 Mins" onclick="clockstartpsone('half'); timerecordpsone();" />
						<input type="button" class="button-small button-success pure-button" value="60 Mins" onclick="clockstartpsone('hour'); timerecordpsone();" />
						<input type="button" class="button-small button-error pure-button" value="Open" onclick="clockstartpsone('unlimited'); timerecordpsone();" />
						<input id="hours1" type="text" class="pure-input" placeholder="hours" />
						<input type="button" class="button-small pure-button-primary pure-button" value="GO!" onclick="clockstartpsone('hours1'); timerecordpsone();" />

						<fieldset class="pure-group">
							<h4>Notes : </h4>
							<textarea class="pure-input-1" placeholder="Textareas work too"></textarea>
						</fieldset>

						<div class="events">
							<h4>Events : </h4>
							<p id="timepsone"></p>
							<p class="psonemessage"></p>
						</div>
						<input type="button" class="button-small button-warning pure-button" value="Reset!" onclick="resetpsone();" />
				</form>



</div>


<!--**************************PS Two*************************-->

<div class="pstwo-clock-container">
<h3>PlayStation Two</h3>
				<div class="pstwo-clock"></div>
				<form class="pure-form">
						<input type="button" class="button-small button-secondary pure-button" value="30 Mins" onclick="clockstartpstwo('half'); timerecordpstwo();" />
						<input type="button" class="button-small button-success pure-button" value="60 Mins" onclick="clockstartpstwo('hour'); timerecordpstwo();" />
						<input type="button" class="button-small button-error pure-button" value="Open" onclick="clockstartpstwo('unlimited'); timerecordpstwo();" />
						<input id="hours2" type="text" class="pure-input" placeholder="hours" />
						<input type="button" class="button-small pure-button-primary pure-button" value="GO!" onclick="clockstartpstwo('hours2'); timerecordpstwo();" />

						<fieldset class="pure-group">
							<h4>Notes : </h4>
							<textarea class="pure-input-1" placeholder="Textareas work too"></textarea>
						</fieldset>

										<div class="events">
											<h4>Events : </h4>
											<p id="timepstwo"></p>
											<p class="pstwomessage"></p>
										</div>
										<input type="button" class="button-small button-warning pure-button" value="Reset!" onclick="resetpstwo();" />
				</form>

</div>


<!--**************************PS Three*************************-->

<div class="psthree-clock-container">
<h3>PlayStation Three</h3>
				<div class="psthree-clock"></div>
				<form class="pure-form">
						<input type="button" class="button-small button-secondary pure-button" value="30 Mins" onclick="clockstartpsthree('half'); timerecordpsthree();" />
						<input type="button" class="button-small button-success pure-button" value="60 Mins" onclick="clockstartpsthree('hour'); timerecordpsthree();" />
						<input type="button" class="button-small button-error pure-button" value="Open" onclick="clockstartpsthree('unlimited'); timerecordpsthree();" />
						<input id="hours3" type="text" class="pure-input" placeholder="hours" />
						<input type="button" class="button-small pure-button-primary pure-button" value="GO!" onclick="clockstartpsthree('hours3'); timerecordpsthree();" />

						<fieldset class="pure-group">
							<h4>Notes : </h4>
							<textarea class="pure-input-1" placeholder="Textareas work too"></textarea>
						</fieldset>

						<div class="events">
							<h4>Events : </h4>
							<p id="timepsthree"></p>
							<p class="psthreemessage"></p>
						</div>
						<input type="button" class="button-small button-warning pure-button" value="Reset!" onclick="resetpsthree();" />
				</form>


</div>


<!--**************************PS Four*************************-->

<div class="psfour-clock-container">
<h3>PlayStation Four</h3>
				<div class="psfour-clock"></div>
				<form class="pure-form">
						<input type="button" class="button-small button-secondary pure-button" value="30 Mins" onclick="clockstartpsfour('half'); timerecordpsfour();" />
						<input type="button" class="button-small button-success pure-button" value="60 Mins" onclick="clockstartpsfour('hour'); timerecordpsfour();" />
						<input type="button" class="button-small button-error pure-button" value="Open" onclick="clockstartpsfour('unlimited'); timerecordpsfour();" />
						<input id="hours4" type="text" class="pure-input" placeholder="hours" />
						<input type="button" class="button-small pure-button-primary pure-button" value="GO!" onclick="clockstartpsfour('hours4'); timerecordpsfour();" />

						<fieldset class="pure-group">
							<h4>Notes : </h4>
							<textarea class="pure-input-1" placeholder="Textareas work too"></textarea>
						</fieldset>

										<div class="events">
											<h4>Events : </h4>
											<p id="timepsfour"></p>
											<p class="psfourmessage"></p>
										</div>
										<input type="button" class="button-small button-warning pure-button" value="Reset!" onclick="resetpsfour();" />
				</form>

</div>


<!--**************************Billard*************************-->

<div class="billard-clock-container">
<h3>Billard</h3>
				<div class="billard-clock"></div>
				<form class="pure-form">
						<input type="button" class="button-small button-secondary pure-button" value="30 Mins" onclick="clockstartbillard('half'); timerecordbillard();" />
						<input type="button" class="button-small button-success pure-button" value="60 Mins" onclick="clockstartbillard('hour'); timerecordbillard();" />
						<input type="button" class="button-small button-error pure-button" value="Open" onclick="clockstartbillard('unlimited'); timerecordbillard();" />
						<input id="hoursbillard" type="text" class="pure-input" placeholder="hours" />
						<input type="button" class="button-small pure-button-primary pure-button" value="GO!" onclick="clockstartbillard('hoursbillard'); timerecordbillard();" />

						<fieldset class="pure-group">
							<h4>Notes : </h4>
							<textarea class="pure-input-1" placeholder="Textareas work too"></textarea>
						</fieldset>

										<div class="events">
											<h4>Events : </h4>
											<p id="timebillard"></p>
											<p class="billardmessage"></p>
										</div>
										<input type="button" class="button-small button-warning pure-button" value="Reset!" onclick="resetbillard();" />
				</form>

</div>

<script type="text/javascript">

		// **************************** Checking and setting local storage and global variables for the first time ********************************* //
					//localStorage.clear();

						// Deploy the counters
						function deploy(x){
								 clockstartpsone(x);
								 clockstartpstwo(x);
								 clockstartpsthree(x);
								 clockstartpsfour(x);
								 clockstartbillard(x);
							}

						// Set global variables
						var savedtimepsone, savedtimepstwo, savedtimepsthree, savedtimepsfour, savedtimebillard,audio, time;
		// **************************** Launching the counters with default value = localxs ********************************* //

		// **************************** PS One *********************************

						var localxpsone = parseFloat(localStorage.localxpsone);

						function clockstartpsone(x) {
								if (x == "unlimited") {
									x = 5;
									var count = true;
								}else if (x == "hours1") {
									var hours1 = document.getElementById("hours1");
									x = hours1.value;
									count = true;
								}else if (x == 'hour'){
									x = 1;
									var count = true;
								}else if (x == 'half'){
									x = 0.5;
									var count = true;
								}else if (x == 0){
									var count = true;
								}else {
								 x = localxpsone;
								 var count = true;
							 }

							var clockpsone = new FlipClock($('.psone-clock'),x*3600, {
								clockFace: 'HourlyCounter',
								autoStart: true,
								countdown: count,

								callbacks: {
									interval: function() {
												time = this.factory.getTime().time;
												audio = new Audio('audio_file.mp3');
												savedtimepsone = time/3600;
												if(time == 600) {
													$('.psonemessage').html('10 Minutes left');
													audio.play();
												}else if (time == 0) {
													audio.play();
												}
											},

								 stop: function() {
								 			var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											$('.psonemessage').html("PS One Finished at" +" "+( h % 12 || 12 )+ " : " +m);
											}
										}
									})};

									function timerecordpsone(){
											var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											var message = "PS One Started at" +" "+( h % 12 || 12 )+ " : " +m;
											document.getElementById("timepsone").innerHTML=message;
											//$('.psonemessage').html("");
									}

									function resetpsone() {
										localStorage.localxpsone = 0;
										clearInterval(psoneinterval);
										clockstartpsone(0);
										$('.psonemessage').html("Counter has been reset");
									}

									var psoneinterval = window.setInterval(savepsoneinterval, 3000);
									function savepsoneinterval() {
										localStorage.localxpsone = savedtimepsone;
									}



// **************************** PS Two ********************************* //

						var localxpstwo = parseFloat(localStorage.localxpstwo);

						function clockstartpstwo(x) {
								if (x == "unlimited") {
									x = 5;
									var count = true;
								}else if (x == "hours2") {
									var hours2 = document.getElementById("hours2");
									x = hours2.value;
									count = true;
								}else if (x == 'hour'){
									x = 1;
									var count = true;
								}else if (x == 'half'){
									x = 0.5;
									var count = true;
								}else if (x == 0){
									var count = true;
								}else {
								 x = localxpstwo;
								 var count = true;
							 }

							var clockpstwo = new FlipClock($('.pstwo-clock'),x*3600, {
								clockFace: 'HourlyCounter',
								autoStart: true,
								countdown: count,

								callbacks: {
									interval: function() {
												time = this.factory.getTime().time;
												audio = new Audio('audio_file.mp3');
												savedtimepstwo = time/3600;
												if(time == 600) {
													$('.pstwomessage').html('10 Minutes left');
													audio.play();
												}else if (time == 0) {
													audio.play();
												}
											},

								 stop: function() {
								 			var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											$('.pstwomessage').html("PS Two Finished at" +" "+( h % 12 || 12 )+ " : " +m);
											}
										}
									})};

									function timerecordpstwo(){
											var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											var message = "PS Two Started at" +" "+( h % 12 || 12 )+ " : " +m;
											document.getElementById("timepstwo").innerHTML=message;
											$('.pstwomessage').html("");
									}

									function resetpstwo() {
										localStorage.localxpstwo = 0;
										clearInterval(pstwointerval);
										clockstartpstwo(0);
										$('.pstwomessage').html("Counter has been reset");
									}

									var pstwointerval = window.setInterval(savepstwointerval, 3000);
									function savepstwointerval() {
										localStorage.localxpstwo = savedtimepstwo;
									}


// **************************** PS Three ********************************* //

						var localxpsthree = parseFloat(localStorage.localxpsthree);

						function clockstartpsthree(x) {
								if (x == "unlimited") {
									x = 5;
									var count = true;
								}else if (x == "hours3") {
									var hours3 = document.getElementById("hours3");
									x = hours3.value;
									count = true;
								}else if (x == 'hour'){
									x = 1;
									var count = true;
								}else if (x == 'half'){
									x = 0.5;
									var count = true;
								}else if (x == 0){
									var count = true;
								}else {
								 x = localxpsthree;
								 var count = true;
							 }

							var clockpsthree = new FlipClock($('.psthree-clock'),x*3600, {
								clockFace: 'HourlyCounter',
								autoStart: true,
								countdown: count,

								callbacks: {
									interval: function() {
												time = this.factory.getTime().time;
												audio = new Audio('audio_file.mp3');
												savedtimepsthree = time/3600;
												if(time == 600) {
													$('.psthreemessage').html('10 Minutes left');
													audio.play();
												}else if (time == 0) {
													audio.play();
												}
											},

								 stop: function() {
								 			var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											$('.psthreemessage').html("PS Three Finished at" +" "+( h % 12 || 12 )+ " : " +m);
											}
										}
									})};

									function timerecordpsthree(){
											var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											var message = "PS Three Started at" +" "+( h % 12 || 12 )+ " : " +m;
											document.getElementById("timepsthree").innerHTML=message;
											$('.psthreemessage').html("");
									}

									function resetpsthree() {
										localStorage.localxpsthree = 0;
										clearInterval(psthreeinterval);
										clockstartpsthree(0);
										$('.psthreemessage').html("Counter has been reset");
									}

									var psthreeinterval = window.setInterval(savepsthreeinterval, 3000);
									function savepsthreeinterval() {
										localStorage.localxpsthree = savedtimepsthree;
									}

// **************************** PS Four ********************************* //

						var localxpsfour = parseFloat(localStorage.localxpsfour);

						function clockstartpsfour(x) {
								if (x == "unlimited") {
									x = 5;
									var count = true;
								}else if (x == "hours4") {
									var hours4 = document.getElementById("hours4");
									x = hours4.value;
									count = true;
								}else if (x == 'hour'){
									x = 1;
									var count = true;
								}else if (x == 'half'){
									x = 0.5;
									var count = true;
								}else if (x == 0){
									var count = true;
								}else {
								 x = localxpsfour;
								 var count = true;
							 }

							var clockpsfour = new FlipClock($('.psfour-clock'),x*3600, {
								clockFace: 'HourlyCounter',
								autoStart: true,
								countdown: count,

								callbacks: {
									interval: function() {
												time = this.factory.getTime().time;
												audio = new Audio('audio_file.mp3');
												savedtimepsfour = time/3600;
												if(time == 600) {
													$('.psfourmessage').html('10 Minutes left');
													audio.play();
												}else if (time == 0) {
													audio.play();
												}
											},

								 stop: function() {
								 			var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											$('.psfourmessage').html("PS Four Finished at" +" "+( h % 12 || 12 )+ " : " +m);
											}
										}
									})};

									function timerecordpsfour(){
											var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											var message = "PS Four Started at" +" "+( h % 12 || 12 )+ " : " +m;
											document.getElementById("timepsfour").innerHTML=message;
											$('.psfourmessage').html("");
									}

									function resetpsfour() {
										localStorage.localxpsfour = 0;
										clearInterval(psfourinterval);
										clockstartpsfour(0);
										$('.psfourmessage').html("Counter has been reset");
									}

									var psfourinterval = window.setInterval(savepsfourinterval, 3000);
									function savepsfourinterval() {
										localStorage.localxpsfour = savedtimepsfour;
									}
// **************************** Billard ********************************* //

						var localxbillard = parseFloat(localStorage.localxbillard);

						function clockstartbillard(x) {
								if (x == "unlimited") {
									x = 5;
									var count = true;
								}else if (x == "hours4") {
									var hoursbillard = document.getElementById("hoursbillard");
									x = hoursbillard.value;
									count = true;
								}else if (x == 'hour'){
									x = 1;
									var count = true;
								}else if (x == 'half'){
									x = 0.5;
									var count = true;
								}else if (x == 0){
									var count = true;
								}else {
								 x = localxbillard;
								 var count = true;
							 }

							var clockbillard = new FlipClock($('.billard-clock'),x*3600, {
								clockFace: 'HourlyCounter',
								autoStart: true,
								countdown: count,

								callbacks: {
									interval: function() {
												time = this.factory.getTime().time;
												audio = new Audio('audio_file.mp3');
												savedtimebillard = time/3600;
												if(time == 600) {
													$('.billardmessage').html('10 Minutes left');
													audio.play();
												}else if (time == 0) {
													audio.play();
												}
											},

								 stop: function() {
								 			var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											$('.billardmessage').html("Billard Finished at" +" "+( h % 12 || 12 )+ " : " +m);
											}
										}
									})};

									function timerecordbillard(){
											var t = new Date();
											var h = t.getHours();
											var m = t.getMinutes();
											var s = t.getSeconds();
											var message = "Billard Started at" +" "+( h % 12 || 12 )+ " : " +m;
											document.getElementById("timebillard").innerHTML=message;
											$('.billardmessage').html("");
									}

									function resetbillard() {
										localStorage.localxbillard = 0;
										clearInterval(billardinterval);
										clockstartbillard(0);
										$('.billardmessage').html("Counter has been reset");
									}

									var billardinterval = window.setInterval(savebillardinterval, 3000);
									function savebillardinterval() {
										localStorage.localxbillard = savedtimebillard;
									}

									window.onbeforeunload = function ()
 									{
     								return "";
 									};
			</script>
	</body>
</html>
